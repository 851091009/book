# 2.字符串和编码

我们已经讲过了，字符串也是一种数据类型，但是，字符串比较特殊的是还有一个编码问题。

由于Python源代码也是一个文本文件，所以，当你的源代码中包含中文的时候，在保存源代码时，就需要务必指定保存为UTF-8编码。当Python解释器读取源代码时，为了让它按UTF-8编码读取，我们通常在文件开头写上这两行：

````
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
````

如果.py文件本身使用UTF-8编码，并且也申明了# -*- coding: utf-8 -*-，打开命令提示符测试就可以正常显示中文：

![Alt](../images/66000.png)

## 字符串格式化

最后一个常见的问题是如何输出格式化的字符串。我们经常会输出类似'亲爱的xxx你好！你xx月的话费是xx，余额是xx'之类的字符串，而xxx的内容都是根据变量变化的，所以，需要一种简便的格式化字符串的方式。

在Python中，采用的格式化方式和C语言是一致的，用%实现，举例如下：
````python
>>> 'Hello, %s' % 'world'
'Hello, world'
>>> 'Hi, %s, you have $%d.' % ('Michael', 1000000)
'Hi, Michael, you have $1000000.'
````

你可能猜到了，%运算符就是用来格式化字符串的。在字符串内部，%s表示用字符串替换，%d表示用整数替换，有几个%?占位符，后面就跟几个变量或者值，顺序要对应好。如果只有一个%?，括号可以省略。

常见的占位符有：

|占位符|替换内容|
|------|-----------|
|%d    |整数        |
|%f    |浮点数      |
|%s    |字符串      |
|%x    |十六进制整数|

其中，格式化整数和浮点数还可以指定是否补0和整数与小数的位数：

````python
print('%2d-%02d' % (3, 1))
print('%.2f' % 3.1415926)
````

如果你不太确定应该用什么，%s永远起作用，它会把任何数据类型转换为字符串: 

````python
>>> 'Age: %s. Gender: %s' % (25, True)
'Age: 25. Gender: True'
```` 

有些时候，字符串里面的%是一个普通字符怎么办？这个时候就需要转义，用%%来表示一个%

````python
>>> 'growth rate: %d %%' % 7
'growth rate: 7 %'
````

format():  

另一种格式化字符串的方法是使用字符串的format()方法，它会用传入的参数依次替换字符串内的占位符{0}、{1}……，不过这种方式写起来比%要麻烦得多：

````python
>>> 'Hello, {0}, 成绩提升了 {1:.1f %'.format('小明', 17.125)
'Hello, 小明, 成绩提升了 17.1%'
````

练习:  
小明的成绩从去年的72分提升到了今年的85分，请计算小明成绩提升的百分点，并用字符串格式化显示出'xx.x%'，只保留小数点后1位：

s1 = 72
s2 = 85
